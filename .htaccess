RewriteEngine On

# 🔁 Redirect trailing slashes (except for actual directories)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} (.+)/$
RewriteRule ^ %1 [R=301,L]

# 🚫 Prevent listing of directories
Options -Indexes

# ✅ Custom error pages (relative to project root)
ErrorDocument 403 /error/403.php
ErrorDocument 404 /error/404.php

# 📦 Route all other requests to index.php except existing files/folders
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.php [QSA,L]
